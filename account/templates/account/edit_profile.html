{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block title %}Edit Profile{% endblock %}

{% block css_link %}
<link href="{% static 'account/css/edit_profile.css' %}" rel="stylesheet" />
<link href="{% static 'account/css/base.css' %}" rel="stylesheet" />
{% endblock %}

{% block content %}
<div class="container content flex-fill">
    <div class="card" id="profile_update">
        <div class="card-header custom_card_header">
            Edit Profile
        </div>
        <div class="card-body">
            <form class="card-space" id="profile_update_form" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="form-group row">
                    <div class="col-sm-3">
                        {{ form.pic.label_tag }}
                    </div>
                    <div class="col-sm-9 text-center">
                        <img class="img-fluid img-thumbnail profile_pic" id="user_pic"
                            src="{{ form.pic.initial.url }}"><br>
                        <label for="id_pic" id="upload">Upload</label>
                        <input type="file" name="pic" accept="image/*" class="form-control" id="id_pic">
                        <input type="checkbox" name="pic-clear" id="pic-clear_id">
                        <label for="pic-clear_id">Clear</label>
                        {{ form.pic.errors }}
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-3">
                        {{ form.bio.label_tag }}
                    </div>
                    <div class="col-sm-9">
                        {{ form.bio|remove_attr:"rows"|add_class:"form-control"|attr:"rows=7"}}
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-3">
                        {{ form.first_name.label_tag }}
                    </div>
                    <div class="col-sm-9">
                        {{ form.first_name|add_class:"form-control"}}
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-3">
                        {{ form.last_name.label_tag }}
                    </div>
                    <div class="col-sm-9">
                        {{ form.last_name|add_class:"form-control"}}
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-3">
                        {{ form.email.label_tag }}
                    </div>
                    <div class="col-sm-9">
                        {{ form.email|add_class:"form-control"}}
                    </div>
                </div>
                <div class="form-group update_btn">
                    <input type="submit" class="btn btn-primary" value="update">
                    <a onclick="window.history.back();" class="btn btn-secondary text-white">cancel<a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    $("#user_pic").click(function () {
        $("#id_pic").click();
    });
</script>
{% endblock %}